<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <title>Mi Viaje | RT</title>

  <!-- Tus estilos globales (no los toco) -->
  <link rel="stylesheet" href="estilos.css" />
  <link rel="icon" type="image/png" href="Logo Raitrai.png" />

  <!-- Estilos espec√≠ficos para impresi√≥n -->
  <style>
    /* ===== Pantalla (base) ===== */
    .print-only{
      display:none;
      white-space:pre-wrap;
      font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif;
    }
  
    /* D√≠a/fecha en azul (tambi√©n aplica en print) */
    .dia-titulo{ color:#1D4ED8; font-weight:700; }
  
    /* Logo solo para impresi√≥n */
    @media screen{ #print-logo{ display:none; } }
  
    /* ===== Impresi√≥n ===== */
    @media print{
      /* M√°rgenes */
      @page{ margin:14mm 12mm; }
  
      /* Mantener colores */
      *{ -webkit-print-color-adjust:exact; print-color-adjust:exact; }
  
      /* Ocultar header "Mi Viaje" y botones */
      header, .btn-add{ display:none !important; }
  
      /* NO usar el bloque textual; imprimimos el layout visual simplificado */
      .print-only, #print-block{ display:none !important; }
  
      /* Logo fijo arriba-derecha */
      #print-logo{
        display:block;
        position:fixed;
        top:12px; right:12px;
        width:120px;
      }
  
      /* LISTA VERTICAL (sin grillas ni tarjetas) */
      .grid,
      #itinerario-container,
      .activity-list{
        display:block !important;
        gap:0 !important;
        width:100% !important;
      }
  
      /* Quitar fondos, bordes, sombras, radios, etc. */
      .dia-seccion,
      .activity-card{
        background:none !important;
        border:0 !important;
        box-shadow:none !important;
        border-radius:0 !important;
        padding:0 !important;
        margin:0 !important;
      }
  
      /* Evitar scroll/cortes internos */
      *, *::before, *::after{ overflow:visible !important; }
      #itinerario-container,
      .activity-list{
        max-height:none !important;
        height:auto !important;
        overflow:visible !important;
      }
  
      /* T√≠tulo del d√≠a (azul) y espaciado */
      .dia-seccion{ break-inside:avoid; page-break-inside:avoid; margin:12px 0 10px 0 !important; }
      .dia-seccion h3{
        color:#1D4ED8 !important;
        background:none !important;
        border:0 !important;
        margin:12px 0 6px 0 !important;
        padding:0 !important;
        font-size:12pt !important;
        text-align:left !important;
      }
  
      /* Actividades: solo texto, sin guiones ni cajas */
      .activity-card p{
        margin:0 0 4px 0 !important;
        font-size:11pt !important;
        font-weight:600;
      }
  
      body{ background:#fff; color:#000; font-size:11pt; }
      h1,h2,h3{ margin:0 0 6px 0; }
      #itinerario-container{ margin-top:10px !important; }
      /* ‚Äî‚Äî‚Äî Apilar encabezados en impresi√≥n ‚Äî‚Äî‚Äî */
      .row{ 
        display:block !important;         /* deja de ser grid/flex */
        margin:0 0 8px 0 !important;
      }
      .row .column,
      .row .long,
      .row .medium,
      .row .short{
        display:block !important;         /* cada bloque a 100% */
        width:100% !important;
        margin:0 0 4px 0 !important;
      }
      .row h2{ margin:0 0 4px 0 !important; }
      
      /* GRUPO (que est√° fuera de .row) y los secundarios tambi√©n en columna */
      main .column{
        display:block !important;
        width:100% !important;
        margin:0 0 4px 0 !important;
      }
      
      /* Un respiro antes del listado de d√≠as */
      #itinerario-container{ margin-top:14px !important; }
    }
  </style>


<img id="print-logo" src="Logo Raitrai.png" alt="RaiTrai" />
  
</head>

<body class="itinerario-page">

  <!-- Encabezado liviano SIN autenticaci√≥n -->
  <header class="header" style="display:flex;align-items:center;gap:.75rem;padding:.5rem 1rem;border-bottom:1px solid #ddd;background:#fff;">
    <img src="Logo Raitrai.png" alt="Rai Trai" style="height:36px;width:auto;">
    <h1 style="font-size:1.25rem;margin:0;">Mi Viaje</h1>

    <!-- Resumen de pax a la derecha -->
    <div id="resumen-pax" style="margin-left:auto;font-size:.9rem;color:#666;"></div>

    <!-- Botones utilitarios (no se muestran al imprimir por CSS) -->
    <button id="btnShare" class="btn-add" title="Copiar enlace para compartir">üîó Copiar enlace</button>
    <button id="btnPrint" class="btn-add" title="Imprimir / Guardar en PDF">üñ®Ô∏è Imprimir</button>
  </header>

  <main class="main">
    <!-- Cabecera de grupo (s√≥lo lectura) -->
    <div class="row">
      <div class="column long">
        <h2>PROGRAMA:<span id="grupo-title">‚Äì</span></h2>
      </div>
      <div class="column medium">
        <h2>FECHAS: <span id="grupo-fechas" class="readonly-field">‚Äî</span></h2>
      </div>
    </div>
    <div class="column medium">
        <h2>GRUPO: <span id="grupo-nombre">‚Äî</span></h2>
    </div>

    <!-- Info secundaria -->
    <div> 
      <div class="column medium">
        <label>Destino</label>
        <div id="grupo-destino" class="readonly-field">‚Äî</div>
      </div>
      <div class="column short">
        <label>N¬∞ Negocio</label>
        <div id="grupo-numero" class="readonly-field">‚Äî</div>
      </div>
    </div>

    <!-- Contenedor visual (tarjetas) -->
    <div id="itinerario-container" class="grid"></div>

    <!-- Contenedor textual S√ìLO para impresi√≥n -->
    <pre id="print-block" class="print-only"></pre>
  </main>

  <!-- S√≥lo cargamos el visor p√∫blico (sin auth) -->
  <script type="module">
    import './miviaje.js';
  </script>
</body>
</html>
