<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <title>En vivo | Dónde están los grupos</title>

  <link rel="stylesheet" href="estilos.css" />
  <link rel="icon" type="image/png" href="Logo Raitrai.png" />

  <style>
    :root{
      --bg:#0b1020;
      --card:#11162b;
      --ink:#e8eefc;
      --muted:#93a4c2;
      --line:#2a3a67;
      --ok:#16a34a;
      --next:#2563eb;
      --prev:#64748b;
      --accent:#60a5fa;
    }
    body{ background:var(--bg); color:var(--ink); font-family:system-ui,-apple-system,"Segoe UI",Roboto,Arial,sans-serif; }
    header{
      display:flex; align-items:center; gap:.75rem;
      padding:.6rem 1rem; border-bottom:1px solid rgba(255,255,255,.08);
      position:sticky; top:0; backdrop-filter:saturate(1.2) blur(6px); background:rgba(11,16,32,.7);
      z-index:10;
    }
    header img{ height:34px; width:auto; }
    header h1{ font-size:1.15rem; margin:0; font-weight:700; }
    .toolbar{ margin-left:auto; display:flex; align-items:center; gap:.5rem; flex-wrap:wrap; }
    .toolbar label{ font-size:.8rem; color:var(--muted); }
    .toolbar select,.toolbar input,.toolbar button{
      background:var(--card); color:var(--ink); border:1px solid var(--line);
      padding:.45rem .6rem; border-radius:.6rem; font-size:.9rem;
    }
    .toolbar button{ cursor:pointer; }
    .pill{ font-size:.75rem; color:var(--muted); padding:.15rem .5rem; border:1px solid var(--line); border-radius:999px; }
    .content{ padding:1rem; display:grid; gap:1rem; }
    .destino-bloque{ border:1px solid var(--line); border-radius:14px; background:linear-gradient(180deg,rgba(255,255,255,.02),rgba(255,255,255,.01)); }
    .destino-hd{ padding:.8rem 1rem; border-bottom:1px solid var(--line); display:flex; align-items:center; gap:.6rem; }
    .destino-hd h2{ margin:0; font-size:1rem; }
    .grid{ display:grid; grid-template-columns:repeat(auto-fill,minmax(280px,1fr)); gap:.8rem; padding: .8rem; }
    .card{
      background:var(--card); border:1px solid var(--line); border-radius:14px; padding:.8rem;
      display:grid; gap:.55rem;
    }
    .card h3{ margin:0; font-size:1rem; line-height:1.1; }
    .sub{ font-size:.8rem; color:var(--muted); }
    .row{ display:flex; align-items:center; gap:.5rem; flex-wrap:wrap; }
    .badge{ font-size:.72rem; padding:.15rem .45rem; border-radius:.5rem; border:1px solid var(--line); color:var(--muted); }
    .now{ color:var(--ink); border-color:var(--accent); }
    .ok{ color:#c6f6d5; border-color:rgba(22,163,74,.6); }
    .nx{ color:#dbeafe; border-color:rgba(37,99,235,.6); }
    /* Timeline */
    .tl{
      display:grid; grid-template-columns:1fr auto 1fr; align-items:center; gap:.4rem;
    }
    .dot{
      width:12px; height:12px; border-radius:50%; background:var(--accent); box-shadow:0 0 0 4px rgba(96,165,250,.15);
    }
    .bar{
      height:6px; background:linear-gradient(90deg, var(--prev), var(--next));
      border-radius:999px; position:relative; overflow:hidden;
    }
    .bar .fill{
      position:absolute; top:0; left:0; bottom:0; width:0%;
      background:linear-gradient(90deg, var(--ok), var(--accent)); transition:width .3s ease;
    }
    .tl-label{ font-size:.78rem; color:var(--muted); }
    .tile{
      border:1px dashed var(--line); border-radius:.6rem; padding:.35rem .5rem; background:rgba(255,255,255,.02);
    }
    .tile strong{ display:block; font-size:.86rem; color:var(--ink); }
    .tile small{ display:block; font-size:.72rem; color:var(--muted); }
    .footer{
      padding:.5rem 1rem; color:var(--muted); font-size:.8rem;
      border-top:1px solid rgba(255,255,255,.08); display:flex; gap:.8rem; flex-wrap:wrap;
    }
    @media print{
      header,.footer{ display:none !important; }
      body{ background:#fff; color:#000; }
      .card,.destino-bloque{ background:#fff; border:1px solid #ccc; }
      .bar{ background:#ddd; }
      .bar .fill{ background:#222; }
    }
  </style>
</head>
<body>
  <header>
    <img src="Logo Raitrai.png" alt="Rai Trai" />
    <h1>En vivo — ¿Dónde están los grupos?</h1>
    <div class="toolbar">
      <label>Destino</label>
      <select id="filtroDestino">
        <option value="__ALL__">Todos</option>
      </select>

      <label>Simular hora</label>
      <input id="simNow" type="datetime-local" />

      <button id="btnNowReal" title="Usar ahora real">Usar hora real</button>
      <button id="btnRefrescar" title="Refrescar ahora">Actualizar</button>
      <span class="pill" id="lastRefresh">—</span>
    </div>
  </header>

  <main class="content" id="contenedor"></main>

   <!--<div class="footer">
    <span>Auto-refresh cada 30 min. Param URL: <code>?now=YYYY-MM-DD</code> o <code>?now=YYYY-MM-DDTHH:mm</code>.</span>
    <span>Sin <code>horaFin</code> se asume 60 min (ajustable en <code>DURACION_POR_DEFECTO_MIN</code>).</span>
  </div>-->

  <script type="module" src="./envivo.js"></script>
</body>
</html>
