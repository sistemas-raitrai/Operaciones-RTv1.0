<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1.0"/>
  <title>Confirmaciones | Rai Trai</title>
  <link rel="icon" type="image/png" href="Logo Raitrai.png" />

  <!-- Estilos m√≠nimos coherentes con tu sistema -->
  <style>
    :root{
      --bg:#0b0c10;
      --card:#111218;
      --muted:#9aa0a6;
      --text:#e5e7eb;
      --brand:#00E0FF;
      --accent:#22d3ee;
      --border:#21222b;
    }
    html,body{margin:0;padding:0;background:#0b0c10;color:var(--text);font:14px/1.35 Inter,system-ui,Segoe UI,Roboto,Arial,sans-serif;}
    a{color:var(--accent);text-decoration:none}
    header{
      position:sticky; top:0; z-index:10;
      display:flex; align-items:center; gap:10px;
      padding:12px 16px; background:linear-gradient(180deg,#0b0c10 0%, #0b0c10ee 70%, #0b0c1000 100%);
      border-bottom:1px solid var(--border);
      backdrop-filter: blur(6px);
    }
    header .title{font-weight:800; letter-spacing:.2px}
    header .spacer{flex:1}
    header .ico{font-size:18px; padding:6px 10px; border:1px solid var(--border); border-radius:10px; background:#0f1016; cursor:pointer}
    header .ico:hover{border-color:#2a2c39}
    main{max-width:1100px; margin:18px auto; padding:0 14px;}

    .card{background:var(--card); border:1px solid var(--border); border-radius:14px; padding:14px;}
    .filters{display:grid; grid-template-columns: repeat(6, 1fr); gap:10px; align-items:end}
    .filters .col-2{grid-column: span 2}
    .filters .col-3{grid-column: span 3}
    .filters .col-6{grid-column: span 6}
    label{display:block; font-size:12px; color:var(--muted); margin-bottom:4px}
    input[type="text"], input[type="date"], select{
      width:100%; box-sizing:border-box; padding:9px 10px; border-radius:10px;
      background:#0f1118; border:1px solid #1c1f2a; color:var(--text);
      outline:none;
    }
    button{
      padding:10px 12px; border-radius:10px; border:1px solid #1c1f2a; background:#141726;
      color:#e5e7eb; cursor:pointer; font-weight:600;
    }
    button.primary{ background: linear-gradient(180deg,#00E0FF,#00b8d6); border-color:#00b8d6; color:#001018}
    button.ghost{ background:#0f1118; }
    button:disabled{opacity:.6; cursor:default}

    .toolbar{display:flex; gap:8px; align-items:center; margin-top:10px}
    .hint{color:var(--muted); font-size:12px}

    table{width:100%; border-collapse:collapse; margin-top:8px; font-size:13px}
    th, td{border-bottom:1px solid #1f2230; padding:8px 8px; text-align:left; vertical-align:top}
    th{color:#aeb3bd; font-weight:700}
    tbody tr:hover{background:#10121c}
    .badge{display:inline-block; padding:2px 6px; font-size:11px; border:1px solid #263042; border-radius:999px; color:#cbd5e1; background:#0f131d}
    .right{ text-align:right; }

    .progress{margin-left:auto; font-size:12px; color:#9aa0a6}
    .sr-only{position:absolute; left:-9999px}
  </style>

  <!-- html2pdf bundle (html2canvas + jsPDF) -->
  <script defer src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>

  <!-- Tu JS de p√°gina -->
  <script type="module" src="./confirmaciones.js"></script>
</head>
<body>
  <header>
    <div class="title">‚úÖ Confirmaciones (lotes PDF)</div>
    <div class="spacer"></div>
    <a class="ico" href="https://sistemas-raitrai.github.io/Operaciones-RTv1.0" title="Inicio">üè†</a>
    <button class="ico" id="btnReload" title="Actualizar">üîÑ</button>
    <button class="ico" id="btnBack" title="Volver atr√°s">‚¨ÖÔ∏è</button>
    <button class="ico" id="btnLogout" title="Cerrar sesi√≥n">‚èèÔ∏è</button>
  </header>

  <main>
    <section class="card">
      <form id="filtros" class="filters">
        <div>
          <label for="fNombre">Nombre/Alias del grupo</label>
          <input id="fNombre" type="text" placeholder="Ej: Compa√±√≠a de Mar√≠a 3B"/>
        </div>
        <div>
          <label for="fCodigo">C√≥digo / N¬∞ de negocio</label>
          <input id="fCodigo" type="text" placeholder="Ej: 1512"/>
        </div>
        <div>
          <label for="fCoordinador">Coordinador(a)</label>
          <input id="fCoordinador" type="text" placeholder="Ej: El√≠as Lagos"/>
        </div>
        <div>
          <label for="fAno">A√±o de viaje</label>
          <select id="fAno"></select>
        </div>
        <div>
          <label for="fDestino">Destino</label>
          <select id="fDestino"></select>
        </div>
        <div>
          <label for="fPrograma">Programa</label>
          <select id="fPrograma"></select>
        </div>

        <div class="col-2">
          <label for="fHotel">Hotel</label>
          <select id="fHotel"></select>
        </div>
        <div class="col-2">
          <label for="fInicioDia">D√≠a de inicio del viaje (primer vuelo de ida)</label>
          <input id="fInicioDia" type="date"/>
        </div>
        <div class="col-2">
          <label class="sr-only">Acciones</label>
          <div class="toolbar">
            <button type="button" class="primary" id="btnBuscar">Buscar</button>
            <button type="button" class="ghost" id="btnLimpiar">Limpiar</button>
          </div>
        </div>

        <div class="col-6 hint">
          Tip: el filtro por ‚Äúd√≠a de inicio‚Äù usa exclusivamente la fecha del <strong>primer vuelo de ida</strong>. Si el grupo no tiene vuelos de ida, no se incluir√° en ese filtro.
        </div>
      </form>
    </section>

    <section class="card" style="margin-top:12px;">
      <div class="toolbar" style="margin-bottom:6px;">
        <button type="button" id="btnDescAll" title="Descargar todos los resultados">‚¨áÔ∏è Descargar todos</button>
        <button type="button" id="btnDescSel" title="Descargar los seleccionados">‚¨áÔ∏è Descargar seleccionados</button>
        <div class="progress" id="progressTxt"></div>
      </div>

      <table id="tabla">
        <thead>
          <tr>
            <th><input type="checkbox" id="chkAll"/></th>
            <th>Alias</th>
            <th>Grupo</th>
            <th>C√≥digo</th>
            <th>Destino</th>
            <th>Programa</th>
            <th>Inicio (ida)</th>
            <th class="right">Acciones</th>
          </tr>
        </thead>
        <tbody id="tbody">
          <!-- filas -->
        </tbody>
      </table>
      <div class="hint" id="countHint" style="margin-top:6px;">‚Äî</div>
    </section>
  </main>

  <!-- contenedor temporal invisible para render a PDF -->
  <div id="pdf-work" style="position:absolute; left:-9999px; top:-9999px; width:794px; background:#ffffff;"></div>

  <script>
    // Botones nav simples
    document.getElementById('btnReload')?.addEventListener('click',()=>location.reload());
    document.getElementById('btnBack')?.addEventListener('click',()=>history.back());
    // btnLogout: deja el hook, tu l√≥gica real va en confirmaciones.js si usas Auth
  </script>
</body>
</html>
