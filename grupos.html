<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>VisualizaciÃ³n de Grupos | RT v1.0</title>
  <!-- DataTables CSS -->
  <link rel="stylesheet" href="https://cdn.datatables.net/1.13.4/css/jquery.dataTables.min.css">
  <!-- Tu CSS -->
  <link rel="stylesheet" href="estilos.css">
</head>
<body>

  <div id="encabezado"></div>

  <main class="main">
    <!-- Barra de filtros -->
    <div class="filter-bar">
      <div class="row">
        <div class="column long">
          <label for="buscador">Buscador de palabras claves</label>
          <input type="text" id="buscador" placeholder="â€¦">
        </div>
        <div class="column short">
          <label for="filtroDestino">Destino</label>
          <select id="filtroDestino"><option value="">Todos</option></select>
        </div>
        <div class="column short">
          <label for="filtroAno">AÃ±o de Viaje</label>
          <select id="filtroAno"><option value="">Todos</option></select>
        </div>
      </div>
    </div>

    <!-- Botones de ediciÃ³n e historial -->
    <div class="row" style="margin-bottom:1rem;gap:1rem;">
      <button id="btn-toggle-edit">ðŸ”“ Activar EdiciÃ³n</button>
      <button id="btn-view-history">ðŸ“œ Ver Historial</button>
    </div>

    <!-- Modal de Historial -->
    <div id="modalHistorial" class="modal-backdrop" style="display:none;">
      <div class="modal">
        <h2>Historial del Grupo</h2>
        <div style="display:flex;gap:1rem;align-items:center;margin-bottom:0.5rem;">
          <input type="date" id="histInicio">
          <input type="date" id="histFin">
          <button id="btn-refresh-history">ðŸ”„ Actualizar</button>
          <input type="text" id="buscadorHistorial" placeholder="Buscarâ€¦" style="flex:1;">
          <button id="btn-close-history">Cerrar</button>
        </div>
        <table id="tablaHistorial" class="display" style="width:100%;">
          <thead>
            <tr>
              <th>Fecha</th><th>Usuario</th><th>AcciÃ³n / Campo</th><th>Antes</th><th>DespuÃ©s</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
    </div>

    <!-- Tabla de Grupos -->
    <div class="row">
      <div class="table-container">
        <table id="tablaGrupos" class="display">
          <thead>
            <tr>
              <th>NÂ° Negocio</th><th>Nombre de Grupo</th><th>Pax</th>
              <th>Adultos</th><th>Estudiantes</th><th>Colegio</th><th>Curso</th><th>AÃ±o</th>
              <th>Destino</th><th>Programa</th><th>Inicio</th><th>Hotel</th>
              <th>Asist. Viajes</th><th>Autoriz.</th><th>Fecha de Viaje</th><th>Obs.</th>
              <th>VersiÃ³n</th><th>Creado Por</th><th>F. CreaciÃ³n</th><th>Fin</th>
              <th>Transporte</th><th>Ciudades</th><th>Hoteles</th><th>Tramos</th><th>Obs. Logist.</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
    </div>
  </main>

  <!-- Encabezado comÃºn -->
  <script type="module">
    (async () => {
      document.getElementById("encabezado").innerHTML = await (await fetch("encabezado.html")).text();
    })();
  </script>

  <!-- Inicializaciones -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdn.datatables.net/1.13.4/js/jquery.dataTables.min.js"></script>
  <script type="module" src="grupos.js"></script>
</body>
</html>
